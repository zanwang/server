<div id="settings-wrap">
  <div loading="loading"></div>
  <div id="settings" ng-show="!loading" >
    <form id="setting-form" name="settingForm" novalidate ng-submit="submit()">
      <div class="input-group">
        <label class="input-label" for="settings-name">Name</label>
        <input type="text" id="settings-name" class="input" name="name" ng-model="user.name">
        <div class="input-error" ng-show="errors.name">{{ errors.name.message }}</div>
      </div>
      <div class="input-group">
        <label class="input-label" for="settings-email">Email</label>
        <input type="email" id="settings-email" class="input" name="email" ng-model="user.email">
        <div class="input-error" ng-show="submitted && settingForm.email.$error.email">Email is invalid</div>
        <div class="input-error" ng-show="errors.email">{{ errors.email.message }}</div>
      </div>
      <div class="input-group">
        <label class="input-label" for="settings-old-password">Current password</label>
        <input type="password" id="settings-old-password" class="input" name="old_password" ng-model="user.old_password" ng-minlength="6" ng-maxlength="50">
        <div class="input-error" ng-show="submitted && (settingForm.old_password.$error.minlength || settingForm.old_password.$error.maxlength)">Length should be between 6 and 50</div>
        <div class="input-error" ng-show="errors.old_password">{{ errors.old_password.message }}</div>
      </div>
      <div class="input-group">
        <label class="input-label" for="settings-password">New password</label>
        <input type="password" id="settings-password" class="input" name="password" ng-model="user.password">
        <div class="input-error" ng-show="submitted && (settingForm.password.$error.minlength || settingForm.password.$error.maxlength)">Length should be between 6 and 50</div>
        <div class="input-error" ng-show="errors.password">{{ errors.password.message }}</div>
      </div>
      <div class="input-group">
        <label class="input-label" for="settings-confirm">Confirm new password</label>
        <input type="password" id="settings-confirm" class="input" name="confirm" ng-model="user.confirm" equal-to="user.password">
        <div class="input-error" ng-show="submitted && settingForm.confirm.$error.required">Required</div>
        <div class="input-error" ng-show="submitted && settingForm.confirm.$error.equal">Password doesn't match</div>
      </div>
      <button class="btn primary" type="submit" ng-disabled="submitting">Save</button>
    </form>
    <div id="settings-destroy" class="input-group">
      <label class="input-label">Delete account</label>
      <p class="input-desc">Are you sure you want to delete this account? All data will be deleted and can not be recovered.</p>
      <button class="btn danger" ng-click="delete()">Delete my account</button>
    </div>
  </div>
</div>